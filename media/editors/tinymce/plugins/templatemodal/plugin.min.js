tinymce.PluginManager.add("templatemodal",function(t,e){var n=["file-modal-module","modal-modules","nav-tabs","panel-body","panel-collapse","study-button","tab-pane","ioc-news-content","columns","column","button-column","button-row"],o=["body-modal-module","bottom-modal-module","icon-text","tab-title","ioc-news","ioc-news-content","body-modal-resource","panel-body","button-squared","button-rectangular"],a=function(e){t.windowManager.open({title:tinymce.util.I18n.translate("Text"),body:{type:"textbox",name:"content",value:e.innerHTML,multiline:!0,minWidth:700,minHeight:150},onsubmit:function(t){t.data.content=t.data.content.replace(/^(\n+)|(\n)+$|/g,""),0==t.data.content.length&&(t.data.content="&nbsp;"),e.innerHTML=t.data.content},onclose:function(e){t.fire("GotoCurrentScroll")}})};t.on("init",function(){for(var e=t.getBody().getElementsByTagName("button"),n=0;n<e.length;n++)e[n].addEventListener("click",function(t){t.preventDefault(),"DIV"!=this.parentElement.tagName||"button-row"!=this.parentElement.className&&"button-column"!=this.parentElement.className||a(this.getElementsByTagName("SPAN")[0])})}),t.on("click",function(e){var l=t.selection.getRng().endContainer.parentElement,d=l.parentElement||l,i=!1;if(style=window.getComputedStyle(d),"DIV"!=d.tagName||"dashed"!=style.getPropertyValue("border-top-style"))for(;d&&"HTML"!=d.tagName&&("DIV"!=d.tagName||"dashed"!=style.getPropertyValue("border-top-style"));)d=d.parentElement,style=window.getComputedStyle(d);d.className.split(" ").forEach(function(t){i=i||n.includes(t)}),l.className.split(" ").forEach(function(t){i=i||o.includes(t)}),"A"==l.tagName||i||"dashed"!=window.getComputedStyle(l).getPropertyValue("border-top-style")&&"dashed"!=window.getComputedStyle(d).getPropertyValue("border-top-style")||a(l)})});