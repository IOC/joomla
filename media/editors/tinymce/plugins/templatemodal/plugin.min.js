tinymce.PluginManager.add("templatemodal",function(e,t){var n=["file-modal-module","modal-modules","nav-tabs","panel-body","panel-collapse","study-button","tab-pane","ioc-news-content","columns","column"],o=["body-modal-module","bottom-modal-module","icon-text","tab-title","ioc-news","ioc-news-content","body-modal-resource","panel-body"],a=function(t){e.windowManager.open({title:tinymce.util.I18n.translate("Text"),body:{type:"textbox",name:"content",value:t.innerHTML,multiline:!0,minWidth:700,minHeight:150},onsubmit:function(e){e.data.content=e.data.content.replace(/^(\n+)|(\n)+$|/g,""),0==e.data.content.length&&(e.data.content="&nbsp;"),t.innerHTML=e.data.content},onclose:function(t){e.fire("GotoCurrentScroll")}})};e.on("click",function(t){var l=e.selection.getRng(),d=l.endContainer.parentElement,i=d.parentElement||d,c="",r=!1;if(style=window.getComputedStyle(i),"DIV"!=i.tagName||"dashed"!=style.getPropertyValue("border-top-style"))for(;i&&"HTML"!=i.tagName&&("DIV"!=i.tagName||"dashed"!=style.getPropertyValue("border-top-style"));)i=i.parentElement,style=window.getComputedStyle(i);c=i.className.split(" "),c.forEach(function(e){r=r||n.includes(e)}),c=d.className.split(" "),c.forEach(function(e){r=r||o.includes(e)}),console.log(d.className),"A"==d.tagName||r||"dashed"!=window.getComputedStyle(d).getPropertyValue("border-top-style")&&"dashed"!=window.getComputedStyle(i).getPropertyValue("border-top-style")||a(d)})});