tinymce.PluginManager.add("customizedanchors",function(e,n){var r,t="";e.on("EditCustomAnchors",function(e){t=e.node.outerHTML.trim(),r=e.node}),e.on("change",function(n){if(""!=t){e.focus();var o=/(?:href=)(".*?")/g,i=o.exec(t),c=o.exec(r.outerHTML);1 in i&&1 in c&&i[1]!=c[1]&&(t=t.replace(new RegExp(i[1],"g"),c[1]));var a=r.innerText.trim();if(a.length>0){a=">"+a[0].toUpperCase()+a.substr(1).toLowerCase();var u=document.createElement("DIV");u.innerHTML=t;var s=">"+u.innerText.trim();r.innerHTML=t.replace(s,a)}else r.innerHTML=t;t="",e.execCommand("mceInsertContent",!1,r.innerHTML)}}),e.on("focusin",function(n){e.fire("GotoCurrentScroll")})});